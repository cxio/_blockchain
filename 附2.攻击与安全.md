//////////////////////////////////////////////////////////////////////////////
Copyright (c) 2019 - 2024 @cxio/blockchain

    Permission is granted to copy, distribute and/or modify this document
    under the terms of the GNU Free Documentation License, Version 1.3
    or any later version published by the Free Software Foundation;
    with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
    A copy of the license is included in the section entitled "GNU
    Free Documentation License".
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&


## 攻击与安全

### 网络干扰

匿名开发者做出一个破坏端点约定的客户端，组织运营以破坏良好的网络协作是可能的。匿名可以避免法律诉讼，因此法律手段不足以解决问题。这需要借助于端点评估来对抗，具体分如下两种情况：

1. 普通违约。客户端发现对方违反普通的宽松约定时，及时回馈、阻断违约、降低等级，暂不断开连接。
2. 违反协议。客户端发现对方违反合法性规则协议，可将之视为攻击，断开连接（加入临时的黑名单）。

**说明：**
普通的违约可能来自于某种失误，网络应当对它们保持一定的容忍，保持连接但阻断违约扩散。行为会被记录，如果多次不改则应当断开连接。



### 哈希屏障

面对极其强大的计算能力，非对称签名的安全性可能并不足够，但哈希碰撞的难度却可以简单升级。隐藏计算哈希摘要的源数据，设置一个对比哈希摘要的验证，就是一种安全屏障。本系统中称之为「哈希屏障」。Bitcoin中账户地址对公钥的隐藏，就是这种安全措施的设计。

> **注：**<br>
> 假设量子计算机开始投入使用，256位的哈希算法无法抵挡时，系统更容易升级到512位或更高。<br>


### 历史分叉

在Bitcoin系统中采用的是区块高度来确定主链，这是工作量证明模型的逻辑。本系统为固定的出块时间，主链的评估只取分叉之后的20个区块综合评估其择优权重值，更长的支链会被忽略。因此从历史上某个区块节点上分叉出一条支链不会成为问题。

当然，这需要网络记住当前的主链是谁，这会由每一个节点的App记录下来。


### 私有挖矿

秘密挖矿构造一条双花的分叉是有可能的，但主链竞争被限定在分叉点之后20个区块之内，因此攻击链必须在成长到20个区块之前释放出来以竞争主链。

所以，如果是大笔的交易担心被双花攻击（秘密分叉竞争成功成为主链），客户可以等待足够长的时间（2个小时）。而对于普通的零散交易则无需担心，因为秘密挖矿攻击并不是无成本的。


#### 解锁数据的可删除性

如果区块链正常运行，实际上古老历史交易里的解锁数据就是可有可无的。解锁数据只是为了验证交易输入的合法性，当交易已经构造并进入区块固化后，交易的安全可靠就由区块链自身来保护了。

删除古老历史交易里的解锁数据是安全的，能节省了很多空间。这也是本设计中交易ID不计算解锁数据的原因。

> **注：**
> 这是区块链固定出块时间的优点，因为在客户端锁定主连之后，就无需担心分叉攻击了。
> 而按出块快慢无限竞争类的区块链，逻辑上是无法删除解锁信息的（虽然现实可行）。


### 交易延展性攻击

Bitcoin 中的交易ID包含了签名的数据，而合法的签名并不唯一，因此交易ID就有了可变性。这不会改变交易的输入和输出定义，但会给一些应用带来问题。

问题来源于签名数据的可变性，但实际上签名与交易的定义是两个不同的逻辑，交易如果已经验证并固化下来，它的合法性就由区块链保证了。之所以需要保留签名数据，是为了防止区块链被重建（从而根本上造成破坏），但如果区块链本身已经有了其它安全保障并足够，那这些签名就是可有可无的了。

本设计中交易ID的计算并不包含签名数据，签名数据是附着在交易数据之后一起广播，客户端和公共服务网络只是使用签名数据验证并适当存储。这样交易的延展性问题就不再存在了。


> ### 附注：
> 本文的内容并不充分，攻击和安全的问题需要在项目发展过程中收集和讨论。本文档暂不重要，仅附带而已。



-------------------------------------------------------------------------------

上一篇：[附1：组队校验](附1.组队校验.md)<br>
下一篇：[附3：概念集](附3.概念集.md)<br>
